<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Ausländische BEvölkerung by loluopendata</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Ausländische BEvölkerung</h1>
      <h2 class="project-tagline">Darstellung der ausländischen Wohnbevölkerung im Kanton Bern</h2>
      <a href="https://github.com/loluopendata/Auslaendische-BEvoelkerung" class="btn">View on GitHub</a>
      <a href="https://github.com/loluopendata/Auslaendische-BEvoelkerung/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/loluopendata/Auslaendische-BEvoelkerung/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="bedienungsanleitung" class="anchor" href="#bedienungsanleitung" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bedienungsanleitung</h1>

<p>Die Datenvisualisierung besteht aus zwei miteinander verknüpften Elementen, auf der linken Seite wird standardmässig auf einer <strong>Karte</strong> aller Gemeinden des Kanton Berns die Anzahl ausländischer Staatsbürger im Verhältnis zur Gesamtbevölkerung dargestellt (Ausländeranteil in %). Auf der rechten Seite werden in einem <strong>Sunburst</strong> (eine Art Piechart) standardmässig die relativen Anteile der verschiedenen Nationalitäten an der gesamten ausländischen Bevölkerung des Kantons Bern dargestellt.</p>

<p><img src="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/gh-pages/images/visualisation_1.png" alt="Visualisierung_D3js"></p>

<h3>
<a id="anklicken-einer-gemeinde-auf-der-karte" class="anchor" href="#anklicken-einer-gemeinde-auf-der-karte" aria-hidden="true"><span class="octicon octicon-link"></span></a>Anklicken einer Gemeinde auf der Karte</h3>

<p>Beim anklicken einer Gemeinde auf der Karte werden die Bevölkerungsdaten dieser Gemeinde im Sunburst visualisiert. Damit kann die Zusammensetzung der ausländischen Bevölkerung zwischen verschiedenen Gemeinden verglichen werden.</p>

<h3>
<a id="anklicken-eines-kontinents-oder-einer-nationalität-im-sunburst" class="anchor" href="#anklicken-eines-kontinents-oder-einer-nationalit%C3%A4t-im-sunburst" aria-hidden="true"><span class="octicon octicon-link"></span></a>Anklicken eines Kontinents oder einer Nationalität im Sunburst</h3>

<p>Wird im Sunburst eine Nationalität oder ein Kontinent angeklickt bewirkt dies, dass diese(r) als neuer Filter gesetzt wird:</p>

<ul>
<li><p>Im Sunburst wird auf die Stufe des angeklickten Kontinents oder der angeklickten Nationalität hineingezommt</p></li>
<li><p>Die Karte wird neu eingefärbt und zeigt neu den Anteil des gewählten Filters (Kontinent/Nationalität) an der Gesamtbevölkerung.</p></li>
</ul>

<p><img src="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/gh-pages/images/visualisation_2.png" alt="Visualisierung_D3js"></p>

<h3>
<a id="zurücksetzen-des-filters" class="anchor" href="#zur%C3%BCcksetzen-des-filters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Zurücksetzen des Filters</h3>

<p>Durch Klick in die Mitte des Sunburst wird der Filter zurückgesetzt.</p>

<h3>
<a id="wechseln-des-datensatzes" class="anchor" href="#wechseln-des-datensatzes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Wechseln des Datensatzes</h3>

<p>In der oberen linken Ecke kann im Dropdown Menu ein Datensatz ausgewählt werden. Es stehen Daten aus den Jahren 2010-2013 zur Verfügung.</p>

<h3>
<a id="zoom" class="anchor" href="#zoom" aria-hidden="true"><span class="octicon octicon-link"></span></a>Zoom</h3>

<p>Die Karte kann stufenlos vergrössert werden - durch drücken des Refresh Buttons oben rechts, wird die Standardansicht wiederhergestellt.</p>

<h1>
<a id="erkenntnisse-und-schlussfolgerungen-aus-den-daten" class="anchor" href="#erkenntnisse-und-schlussfolgerungen-aus-den-daten" aria-hidden="true"><span class="octicon octicon-link"></span></a>Erkenntnisse und Schlussfolgerungen aus den Daten</h1>

<p>Schreiten wir nun zur Interpretation der dargestellten Daten und schauen welche Aussagen durch die Visualisierung getroffen werden können.  Erst gehen wir auf die Darstellung der relativen Ausländeranteile zur totalen ständigen Wohnbevölkerung in den Gemeinden ein. Anschliessend auf die Zusammensetzung dieser ständigen ausländischen Wohnbevölkerung.</p>

<h2>
<a id="relative-ausländeranteile" class="anchor" href="#relative-ausl%C3%A4nderanteile" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relative Ausländeranteile</h2>

<p>Es fällt schnell ins Auge, dass enorme Unterschiede von Gemeinde zu Gemeinde bestehen. Das Spektrum reicht von ca. 30% in Biel bis zu 0% Berken, Schelten und Willadingen. Es scheint folglich eine Konzentration von Ausländischer Wohnbevölkerung auf gewisse Gemeinden zu geben während andere eine geringe Konzentration aufweisen. Wie fällt nun dieses Ungleichgewicht auf. </p>

<h3>
<a id="verteilung-stadt---land" class="anchor" href="#verteilung-stadt---land" aria-hidden="true"><span class="octicon octicon-link"></span></a>Verteilung Stadt - Land</h3>

<p>Bestätigt sich der Volksaberglaube das Ausländische Bevölkerung sich auf die Städte und deren Agglomerationen konzentrieren? Betrachtet man die Karte ist ersichtlich, dass verschiedenen Gemeinden (nicht nur stätische) herausstechen. Um dies zu zeigen eine Tabelle der zwölf Gemeinden mit dem höchsten Ausländeranteil der ständigen Wohnbevölkerung:</p>

<p>BFS-Nr  Gemeinde    Total   Ausländeranteil
493 Finsterhennen   516 22,67
584 Lauterbrunnen   2439    23,45
392 Pieterlen   3917    24,10
420 Rädtligen-Alchenfläh  2403    24,30
351 Bern    128848  24,48
700 Moutier 7608    25,65
843 Saanen  6858    25,95
443 St-Imier    4949    26,71
363 Ostermundigen   16185   27,43
581 Interlaken  5659    27,63
498 Müntschemier   1302    27,95
371 Biel    53031   30,15</p>

<p>Betrachtet man nun die die gängige jedoch schon veraltete Definition von mindestens 10‘000 Einwohner fallen gerade nur drei Gemeinden unter einen Stätischen Charakter. Der Rest fällt laut geografischer Definition bestenfalls unter den Begriff Agglomeration, was jedoch in den meisten Fällen anzuzweifeln wäre.  Die Anzahl an ständiger Wohnbevölkerung kann also nicht entscheidend sein. Es ist jedoch nicht zu übersehen, dass gewisse Ballungsgebiete bestehen.
(<a href="http://www.bfs.admin.ch/bfs/portal/de/index/regionen/11/geo/analyse_regionen/04.parsys.0002.downloadList.00021.DownloadFile.tmp/agglodefdt.pdf">http://www.bfs.admin.ch/bfs/portal/de/index/regionen/11/geo/analyse_regionen/04.parsys.0002.downloadList.00021.DownloadFile.tmp/agglodefdt.pdf</a>)</p>

<h3>
<a id="die-ballungsgebiete" class="anchor" href="#die-ballungsgebiete" aria-hidden="true"><span class="octicon octicon-link"></span></a>Die Ballungsgebiete</h3>

<p>Betrachtet man nun die Färbung des Kantons, fallen vier Gebiete auf, in welchen sich Gemeinden mit hohen Ausländeranteilen häufen. Diese lassen sich wie folgt zusammenfassen:
• Die Tourismusregionen des Berner Oberlandes mit Gemeinden wie Interlaken, Kandersteg, Lauterbrunnen und Saanen
• Bern und dessen Agglomeration (Ostermundigen, Köniz, Zollikofen, usw.)
• Der französischsprechende Teil des Kanton Bern mit Gemeinden wie Biel, Moutier und Saint-Imier
• Die Region um die Gemeinde Langenthal (schwächer als die Anderen)</p>

<p>All diese Gebiete weisen mehrere Gemeinden mit Ausländeranteilen von 20% auf. Da in der Schweiz eine freie Wahl des Wohnortes besteht, müssen diese Regionen/ Gemeinden attraktive für immigrierte  Personen sein. Was könnte diese Gebiete attraktive machen?
Geht man davon aus, dass diese Personen mit einem gewissen Motive in die Schweiz und den Kanton Bern ziehen, und dieses nicht eine reine Suche nach Sicherheit (von Leib und Leben) ist, zeigt sich eine gewisse Anzahl von Motiven. 
Als stärkstes Motive wir eindeutig die beruflichen Perspektiven identifiziert. Diese Motive weisen alle der Gebiete in starkem Masse auf. Sei es nun durch Tourismus oder durch anderweitige Wirtschaftszentren, verfügen all diese Regionen über eine grossen Bedarf an Arbeitskräften. Gewisse Gemeinden in diesen Gebieten haben vor allem im Tourismus sogar einen expliziten Bedarf an ausländischen Arbeitskräften auf Grund der Sprachkompetenz. Diese wirtschaftliche Attraktivität könnte ein starker Faktor für die Standortswahl sein. 
Weitere sind Motive sind ein höheres Einkommen, Freizeitmöglichkeiten und Schweizer Kultur. Gewisse Motive wie Steueroptimierung können in einzelnen Gemeinden stark in Gewicht fallen.
Weitere Motivationen  für die Standortswahl  ist die Sprache und die Verwandten oder Freunde in der Schweiz.
<a href="http://www.ejpd.admin.ch/dam/data/pressemitteilung/2013/2013-12-17/24D_Gaeumann.pdf">http://www.ejpd.admin.ch/dam/data/pressemitteilung/2013/2013-12-17/24D_Gaeumann.pdf</a></p>

<h2>
<a id="zusammensetzung-der-ausländischen-bevölkerung-und-deren-relative-verteilung" class="anchor" href="#zusammensetzung-der-ausl%C3%A4ndischen-bev%C3%B6lkerung-und-deren-relative-verteilung" aria-hidden="true"><span class="octicon octicon-link"></span></a>Zusammensetzung der ausländischen Bevölkerung und deren relative Verteilung</h2>

<p>Betrachten wir nun die Zusammensetzung dieser Ausländischen Wohnbevölkerung und die Anteile von einzelnen Gruppen/Nationen an der totalen ständigen Wohnbevölkerung der Gemeinden. </p>

<h3>
<a id="zusammensetzung" class="anchor" href="#zusammensetzung" aria-hidden="true"><span class="octicon octicon-link"></span></a>Zusammensetzung</h3>

<p>Schaut man sich zuerst die Anteile der Verschiedenen Kontinente an der ausländischen Bevölkerung an, zeigt sich das Europa eine klare Mehrheit ausmacht. Bei einem Anteil von fast 80% im gesamten Kanton und in fast in jeder Gemeinde mindestens 75% kommen ein starke Mehrheit der ausländischen Bevölkerung aus Europa. Die Verteilung scheint relative regelmässig über die verschiedenen Gemeinden hinweg. Dieser  Dies ist nicht weiter verwunderlich, wenn man die vereinfachte Einreise der meisten europäischen Länder durch die“ Bilateralen Verträge“ und die geografische Nähe bedenkt. 
An zweiter Stelle stehen die Länder aus dem asiatischen Kontinent. Diese machen mit ca. 10% der ausländischen Bevölkerung des Kantons Berns einen wesentlich kleineren Teil aus. Die asiatischen Länder sin bei weitem ungleicher verteilt über die Gemeinden, da es von Trubschachen mit 55% bis hin zu 0% in Därstetten. 
An dritter Stelle befinden sich der afrikanische Kontinent und sein Länder. Dies mit einem Anteil von 6,5% der Ausländer im Kanton Bern. Auch hier finden wir wieder eine starke Variierung zwischen den einzelnen Gemeinden. Auch hier haben wir von ca. 30% in Kappeln bis zu 0% in Habkern. Hierbei ist zu beobachten dass die Gemeinden mit hohen Anteilen meist im französischsprechenden Bereich des Kantons Bern liegen.
An vierter Stelle steht der amerikanische Kontinent mit gerad mal 3,5% der Ausländer des Kantons Bern. Dies verteilt sich vor allem auf einzelne Gemeinden wie Bern, Biel, Hasliberg, usw.
Guter Letzt kommen noch der „Kontinent„ Ozeanien und Länder welche nicht zugeordnet werden können(da sie zum Beispiel nicht mehr existieren). Diese haben einen so geringen Anteil das eine Analyse kaum Sinn macht.
Man sieht also, dass die Zusammensetzung der ausländischen Wohnbevölkerung stark von Gemeinde zu Gemeinde schwanken kann. Dabei muss diese in Gemeinden mit kleinen Ausländeranteilen mit Vorsicht interpretiert werden, da es schnell zu Extremwerten kommt.</p>

<h3>
<a id="relative-anteile-einzelner-nationen" class="anchor" href="#relative-anteile-einzelner-nationen" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relative Anteile einzelner Nationen</h3>

<p>Klickt man im Sunburst auf einzelne Nationen werden deren relativen Anteile zur Gesamtbevölkerung dargestellt. Jede einzelne Nation zu analysieren würde hier am falschen Platz sein. Interessant ist jedoch die Tatsache, dass gewisse Nationen in Gemeinden eine relevante Grösse der totalen Bevölkerung darstellt. So sind zum Beispiel in der Gemeinde Beatenberg ca 10% der Bevölkerung deutsche Staatsbürger. Auch in Ostermundigen machen Italiener/innen ca 5% der Wohnbevölkerung aus. Dies zeigt, dass in Gemeinden durchaus eine gewisse Ballung von Nationalitäten besteht. Hierdurch kann die Wichtigkeit von gewissen Nationalitäten und somit auch deren Kultur in den einzelnen Gemeinden gezeigt werden. 
H2: Beschränkungen
Alle verwendeten Daten beschränken sich ausschliesslich auf die ständige Wohnbevölkerung nach Verordnung  431.112.1 über die eidgenössische Volkszählung, Abschnitt 1, Artikel 2 d:
ständige Wohnbevölkerung:  jeweils am Hauptwohnsitz alle: 
1.in der Schweiz gemeldeten Personen schweizerischer Staatsangehörigkeit,
2. ausländischen Staatsangehörigen ausserhalb des Asylprozesses mit einer Aufenthalts- oder Niederlassungsbewilligung für mindestens zwölf Monate oder Kurzaufenthaltsbewilligungen für eine kumulierte Aufenthaltsdauer von mindestens zwölf Monaten,
3. Personen im Asylprozess mit einer Gesamtaufenthaltsdauer von mindestens zwölf Monaten;</p>

<p>Desweitern wird hier nochmals darauf hingewiesen, dass die Karte des Kantons Berns immer die relativen Anteile der ausländischen Wohnbevölkerung gegenüber der Gesamtbevölkerung darstellt. Der Sun Burst zeig jedoch den Anteil der einzelnen Untergruppen an der Obergruppe. Also der Anteil der Kontinente/ Länder an der Ausländischen Wohnbevölkerung. ##Erweiterungsmöglichkeiten</p>

<h1>
<a id="daten" class="anchor" href="#daten" aria-hidden="true"><span class="octicon octicon-link"></span></a>Daten</h1>

<h2>
<a id="bevölkerungsdaten" class="anchor" href="#bev%C3%B6lkerungsdaten" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bevölkerungsdaten</h2>

<p>Die verwendeten Bevölkerungsdaten können beim Bundesamt für Statistik <a href="https://www.pxweb.bfs.admin.ch/Selection.aspx?px_language=de&amp;px_db=px-x-0102010000_104&amp;px_tableid=px-x-0102010000_104%5Cpx-x-0102010000_104.px&amp;px_type=PX">online bezogen werden</a>. Die aufbereiteten Datensätze werden unter den untenstehenden Links zur Verfügung gestellt:</p>

<ul>
<li><a href="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/master/Gemeinden_2013.csv">Gemeinden_2013.csv</a></li>
<li><a href="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/master/Gemeinden_2012.csv">Gemeinden_2012.csv</a></li>
<li><a href="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/master/Gemeinden_2011.csv">Gemeinden_2011.csv</a></li>
<li><a href="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/master/Gemeinden_2010.csv">Gemeinden_2010.csv</a></li>
</ul>

<h2>
<a id="geodaten" class="anchor" href="#geodaten" aria-hidden="true"><span class="octicon octicon-link"></span></a>Geodaten</h2>

<p>Die benötigten Geodaten konnten unter <a href="https://github.com/interactivethings/swiss-maps">https://github.com/interactivethings/swiss-maps</a> bezogen werden. Die in der Visualisierung verwendeten Geodaten des Kanton Bern können unter folgendem Link im TopoJSON Format heruntergeladen werden. Sie unterstehen der <a href="http://www.toposhop.admin.ch/de/shop/terms/use/finished_products">Lizenz für kostenlose Geodaten des Bundesamtes für Landestopografie swisstopo</a></p>

<ul>
<li><a href="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/master/be-municipalities.json">be-municipalities.json</a></li>
</ul>

<h2>
<a id="flexibilität" class="anchor" href="#flexibilit%C3%A4t" aria-hidden="true"><span class="octicon octicon-link"></span></a>Flexibilität</h2>

<p>Die Geodaten und die Bevölkerungsdaten wurden so weit wie möglich in ihrer ursprünglichen Gliederung belassen und werden anhand der BFS-Nr. (welche bereits in beiden Datensätzen enthalten ist) beim Laden der App verbunden. Alle relativen Bevölkerungsanteile werden direkt on-the-go berechnet. Dies bringt die nötige Flexbilität, dass die App auch mit den Geo- und Bevölkerungsdaten von anderen Kantonen oder der ganzen Schweiz betrieben werden kann, ohne dass grosse Änderungen am Source Code oder am Datensatz gemacht werden müssen.</p>

<h3>
<a id="gemeindefusionen" class="anchor" href="#gemeindefusionen" aria-hidden="true"><span class="octicon octicon-link"></span></a>Gemeindefusionen</h3>

<p>Weil die Datensätze Bevölkerungsdaten (2010-2013) und Geodaten (2015) zu verschiedenen Zeitpunkten erhoben wurden, stellte sich uns das Problem, dass einige Gemeinden inzwischen fusioniert wurden und damit nicht mehr existierten, bzw. neue Fusionsgemeinden in der Zwischenzeit entstanden sind. Wir entschieden uns dazu, die aktuellen GeoDaten zu verwenden und die Gemeinden rückwirkend im Bevölkerungsdatensatz zu fusionieren. Dies erforderte es im Datensatz die neu geschaffenen Fusionsgemeinden manuell einzutragen. Die Bevölkerungszahlen wurden aus den an der Fusion beteiligten Gemeinden errechnet.</p>

<h3>
<a id="relative-bevölkerungsanteile" class="anchor" href="#relative-bev%C3%B6lkerungsanteile" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relative Bevölkerungsanteile</h3>

<p>Im Datensatz, wie er beim BFS online bezogen werden kann, ist die Anzahl Einwohner nach Nationalität angegeben. In unserer Datenvisualisierung benötigen wir zusätzlich die Anzahl Einwohner pro Kontinent. Damit die Datenvisualisierung auch mit neuen Datensätzen funktioniert, ohne dass diese geändert werden müssen, werden diese Daten beim Laden des Datensatzes on-the-go berechnet. </p>

<p>Dazu wurde ein neues Objekt (world) definiert, in welchem die einzelnen Kontinente als Eigenschaften repräsentiert sind, und  ein Array mit den dazu gehörenden Nationalitäten enthalten.</p>

<pre><code>var world = { Afrika: [ "Äquatorialguinea", "Äthiopien", "Dschibuti", (...) ], Europa: ["Albanien", "Andorra", (...)], Amerika:["Argentinien" , "Bahamas" , "Barbados", (...) ], Asien: ["Afghanistan", "Bahrain", "Bhutan", (...) ], Ozeanien: ["Australien", "Fidschi", "Nauru", (...)], Andere: ["Staatenlos", "Nicht zuteilbar gemäss den aktuellen Grenzen", "Ohne Angabe"]};
</code></pre>

<p>Beim Laden des Datensatzes wird über die Eigenschaften des Objekts (world) iteriert und die Bevölkerung wird pro Kategorie zusammengezählt.</p>

<pre><code> for (var key in world) {
  if (world.hasOwnProperty(key)) {
    var count=0;
    for(var i=0;i&lt;world[key].length;i++){
      if(world[key][i]!="Schweiz"){
          count = count+row[world[key][i]];
      }

    }
      row[key]=count;    
  }        
}
</code></pre>

<h1>
<a id="quellen" class="anchor" href="#quellen" aria-hidden="true"><span class="octicon octicon-link"></span></a>Quellen</h1>

<h3>
<a id="map" class="anchor" href="#map" aria-hidden="true"><span class="octicon octicon-link"></span></a>Map</h3>

<p>Basiert auf <a href="http://bl.ocks.org/herrstucki/4327678">http://bl.ocks.org/herrstucki/4327678</a> und <a href="http://lvonlanthen.sandbox.iwi.unibe.ch/be/index.html">http://lvonlanthen.sandbox.iwi.unibe.ch/be/index.html</a></p>

<h3>
<a id="sunburst" class="anchor" href="#sunburst" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sunburst</h3>

<p>Basiert auf <a href="http://bl.ocks.org/kerryrodden/477c1bfb081b783f80ad">Zoomable sunburst with updating data</a>.
Jeder Nationalität einzeln in einem Piechart aufzuführen hätte die Darstellung zu unübersichtlich gemacht. Die hierarchische Gliederung des Sunburst schien uns passend, um die verschiedenen Nationalitäten nach Kontinent gruppieren zu können und dies farblich zu unterstreichen. Die Visualisierung nutzt das <a href="https://github.com/mbostock/d3/wiki/Partition-Layout">Partition Layout</a> von D3.js, welches ein <strong><em>nested JSON</em></strong> File benötigt um die Elemente richtig gruppieren zu können:</p>

<p>Aufbau Nested JSON:</p>

<pre><code>{
 "name": "root",
 "children": [
  {
     "name": "Europa",
     "children": [
      {"name": "Albanien", "size": 1234},
      {"name": "Andorra", "size": 5678},
      {"name": "Belgien", "size": 9123}
     ]
    }
 ]
}
</code></pre>

<p>Da wir den Datensatz nicht verändern wollten, wird das Nested JSON on-the-go durch die Funktion prepareJSON aus den CSV Daten erzeugt:</p>

<pre><code>function prepareJSON(e){
    var newData = [];
    for (var key in world) {

        if (world.hasOwnProperty(key)) {
            var tmpObject = {name: key, children:[]};
            for(var i=0;i&lt;world[key].length;i++){
                var x =  e[world[key][i]];
                if(x&gt;0){
                    tmpObject.children.push({name: world[key][i], size: x});
                }

            }

            newData.push(tmpObject);
        } 

    }
    return {name: "root", children: newData};
}
</code></pre>

<h3>
<a id="legende" class="anchor" href="#legende" aria-hidden="true"><span class="octicon octicon-link"></span></a>Legende</h3>

<p>Baisert auf <a href="http://eyeseast.github.io/visible-data/2013/08/27/responsive-legends-with-d3/">http://eyeseast.github.io/visible-data/2013/08/27/responsive-legends-with-d3/</a></p>

<p>Die Legende wird beim Ändern des Filters und bei der Auswahl eines neuen Datensatzes neu generiert. Die Input Domain der Skala  wird jeweils dem aktuellen maximum im Datensatz angepasst. Die Farben der Output range orientieren sich an den Farben der jeweiligen Kontinente, so dass auf der Karte jeweils leicht zu erkennen ist, welcher Filter gesetzt wurde.  </p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/loluopendata/Auslaendische-BEvoelkerung">Ausländische BEvölkerung</a> is maintained by <a href="https://github.com/loluopendata">loluopendata</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

