<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Ausländische BEvölkerung by loluopendata</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Ausländische BEvölkerung</h1>
      <h2 class="project-tagline">Darstellung der ausländischen Wohnbevölkerung im Kanton Bern</h2>
      <a href="#App" class="btn">zur App</a>
      <a href="#bedienungsanleitung" class="btn">Bedienungsanleitung</a>
      <a href="#erkenntnisse-und-schlussfolgerungen" class="btn">Schlussfolgerungen und Erkenntnisse</a>
      <a href="https://github.com/loluopendata/Auslaendische-BEvoelkerung" class="btn">View on GitHub</a>
      
    </section>

    <section class="main-content">
      <h1>
<a id="einleitung" class="anchor" href="#einleitung" aria-hidden="true"><span class="octicon octicon-link"></span></a>Einleitung</h1>

<p>Die Schweiz befindet sich seit mehreren Jahrzehnten in einer wirtschaftlich komfortablen Lage. Infolge wird die Schweiz als ein attraktives Land für Immigrationsströme wahrgenommen. Es ist das Bedürfnis vieler Ausländer in der Schweiz zu arbeiten und zu wohnen. Der Auslöser dieser Immigration kann vielfältig sein, dieser erstreckt sich von nationalen Krisen bis hin zu steuerlicher Optimierung. Dies führt zu einer breiten Palette von Einwanderern aus der ganzen Welt. Einwanderung führt somit zu einer kulturellen Vielfalt in der Schweiz und deren Gemeinden.</p>

<p>Doch diese kulturelle Vielfalt kann auch zu Unbehagen führen: Stossen neue  Kulturen auf eine Bestehende kann dies zu Ängsten um Kulturverlust und infolge zu Unmut gegenüber der neuen Kultur führen. Es ist somit nicht verwunderlich, dass das Thema der Immigration ein prominentes Thema in den Medien und der Politik ist. Dabei spalten sich die Lager in Betrachtung auf die Folgen der Immigration. Während die Befürworter einen Gewinn für die Schweiz durch kulturelle Vielfalt sehen, weisen die Gegner auf mögliche negative wirtschaftliche und soziale Folgen hin. Die Immigrationsfrage entwickelte sich somit über die Jahre zu einem sehr emotionalen Thema.</p>

<p>Die folgende Visualisierung hat das Ziel sachliche Informationen in diese Diskussion zu bringen. Dabei setzt sich die Visualisierung aus zwei Komponenten zusammen: Die Karte das Kanton Bern stellt den relativen Anteil der ausländischen Wohnbevölkerung an der Gesamtbevölkerung dar (Ausländeranteil in %). Wählt man einzelne Kontinente oder Nationalitäten aus wird die Karte entsprechend deren relativen Anteilen eingefärbt. Somit soll die Verteilung der ausländische Wohnbevölkerung und deren Konzentration (für manche eine Belastung) in den einzelnen Gemeinden aufgezeigt werden. Im zweiten Teil dem Sunburst wird die Zusammensetzung der ausländischen Wohnbevölkerung dargestellt. Hiermit wird ersichtlich welche Nationen zu welchen Anteilen in den Gemeinden vertreten sind.</p>

<h1>
<a id="bedienungsanleitung" class="anchor" href="#bedienungsanleitung" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bedienungsanleitung</h1>

<p>Die Datenvisualisierung besteht aus zwei miteinander verknüpften Elementen. Auf der linken Seite wird standardmässig auf einer <strong>Karte</strong> aller Gemeinden des Kanton Berns die Anzahl ausländischer Staatsbürger im Verhältnis zur Gesamtbevölkerung dargestellt (Ausländeranteil in %). Auf der rechten Seite werden in einem <strong>Sunburst</strong> (eine Art Piechart) die relativen Anteile der verschiedenen Nationalitäten an der gesamten ausländischen Bevölkerung des Kantons Bern dargestellt.</p>

<p><img src="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/gh-pages/images/visualisation_1.png" alt="Visualisierung_D3js"></p>

<h3>
<a id="anklicken-einer-gemeinde-auf-der-karte" class="anchor" href="#anklicken-einer-gemeinde-auf-der-karte" aria-hidden="true"><span class="octicon octicon-link"></span></a>Anklicken einer Gemeinde auf der Karte</h3>

<p>Beim anklicken einer Gemeinde auf der Karte werden die Bevölkerungsdaten dieser Gemeinde im Sunburst visualisiert. Damit kann die Zusammensetzung der ausländischen Bevölkerung zwischen verschiedenen Gemeinden verglichen werden.</p>

<h3>
<a id="anklicken-eines-kontinents-oder-einer-nationalität-im-sunburst" class="anchor" href="#anklicken-eines-kontinents-oder-einer-nationalit%C3%A4t-im-sunburst" aria-hidden="true"><span class="octicon octicon-link"></span></a>Anklicken eines Kontinents oder einer Nationalität im Sunburst</h3>

<p>Wird im Sunburst eine Nationalität oder ein Kontinent angeklickt bewirkt dies, dass diese(r) als neuer Filter gesetzt wird:</p>

<ul>
<li><p>Im Sunburst wird auf die Stufe des angeklickten Kontinents oder der angeklickten Nationalität hineingezommt.</p></li>
<li><p>Die Karte wird neu eingefärbt und zeigt neu den Anteil des gewählten Filters (Kontinent/Nationalität) an der Gesamtbevölkerung.</p></li>
</ul>

<p><img src="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/gh-pages/images/visualisation_2.png" alt="Visualisierung_D3js"></p>

<h3>
<a id="zurücksetzen-des-filters" class="anchor" href="#zur%C3%BCcksetzen-des-filters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Zurücksetzen des Filters</h3>

<p>Durch Klick in die Mitte des Sunburst wird der Filter zurückgesetzt.</p>

<h3>
<a id="wechseln-des-datensatzes" class="anchor" href="#wechseln-des-datensatzes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Wechseln des Datensatzes</h3>

<p>In der oberen linken Ecke kann im Dropdown Menu ein Datensatz ausgewählt werden. Es stehen Daten aus den Jahren 2010-2013 zur Verfügung.</p>

<h3>
<a id="zoom" class="anchor" href="#zoom" aria-hidden="true"><span class="octicon octicon-link"></span></a>Zoom</h3>

<p>Die Karte kann stufenlos vergrössert werden - durch drücken des Refresh Buttons oben rechts, wird die Standardansicht wiederhergestellt.</p>

<h1>
<a id="erkenntnisse-und-schlussfolgerungen" class="anchor" href="#erkenntnisse-und-schlussfolgerungen" aria-hidden="true"><span class="octicon octicon-link"></span></a>Erkenntnisse und Schlussfolgerungen</h1>

<p>Schreiten wir nun zur Interpretation der dargestellten Daten und betrachten die Aussagen, welche durch die Visualisierung getroffen werden können. Zuerst gehen wir auf die Darstellung der relativen Ausländeranteile im Vergleich zur totalen ständigen Wohnbevölkerung in den Gemeinden ein. Anschliessend auf die Zusammensetzung der ständigen ausländischen Wohnbevölkerung.</p>

<h2>
<a id="relative-ausländeranteile" class="anchor" href="#relative-ausl%C3%A4nderanteile" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relative Ausländeranteile</h2>

<p>Es fällt schnell ins Auge, dass enorme Unterschiede von Gemeinde zu Gemeinde bestehen. Das Spektrum reicht von ca. 30% in Biel bis zu 0% in Berken, Schelten und Willadingen. Es scheint folglich eine Konzentration der ausländischen Wohnbevölkerung auf gewisse Gemeinden zu geben während andere nur einen geringen Ausländeranteil aufweisen. Wie fällt nun dieses Ungleichgewicht aus: </p>

<h3>
<a id="stadt---land" class="anchor" href="#stadt---land" aria-hidden="true"><span class="octicon octicon-link"></span></a>Stadt - Land</h3>

<p>Bestätigt sich der Volksaberglaube, dass sich die ausländische Bevölkerung auf die Städte und deren Agglomerationen konzentriert? Betrachtet man die Karte ist ersichtlich, dass verschiedenen Gemeinden (nicht nur städtische) herausstechen. Um dies zu illustrieren, zeigt folgende Liste die zwölf Gemeinden mit dem höchsten Ausländeranteil:</p>

<p>Gemeinde: Total Einwohner (Ausländeranteil in %)</p>

<ol>
<li>
<strong>Biel</strong>: 53'031 (30,15%)</li>
<li>
<strong>Müntschemier</strong>: 1'302 (27,95%)</li>
<li>
<strong>Interlaken</strong>: 5'659 (27,63%)</li>
<li>
<strong>Ostermundigen</strong>: 16'185 (27,43%)</li>
<li>
<strong>St-Imier</strong>: 4'949 (26,71%)</li>
<li>
<strong>Saanen</strong>: 6'858 (25,95%)</li>
<li>
<strong>Moutier</strong>: 7'608 (25,65%)</li>
<li>
<strong>Bern</strong>: 128'848 (24,48%) </li>
<li>
<strong>Rädtligen</strong>: 2'403    (24,30%)</li>
<li>
<strong>Pieterlen</strong>: 3'917    (24,10%)</li>
<li>
<strong>Lauterbrunnen</strong>: 2'439 (23,45%)</li>
<li>
<strong>Finsterhennen</strong>: 516 (22,67%)</li>
</ol>

<p>Betrachtet man nun die die gängige Definition einer Stadt von mindestens 10‘000 Einwohner, haben nur gerade drei Gemeinden städtischen Charakter. Der Rest fällt laut Definition bestenfalls unter den Begriff Agglomeration, was jedoch in den meisten Fällen anzuzweifeln wäre. Die Anzahl der ständigen Wohnbevölkerung scheint also nicht entscheidend zu sein für den Ausländeranteil. Es ist jedoch nicht zu übersehen, dass gewisse Ballungsgebiete bestehen.
<a href="http://www.bfs.admin.ch/bfs/portal/de/index/regionen/11/geo/analyse_regionen/04.parsys.0002.downloadList.00021.DownloadFile.tmp/agglodefdt.pdf">Definition der städtischen Gebiete, Agglomerationen und Metropolräume</a></p>

<h3>
<a id="die-ballungsgebiete" class="anchor" href="#die-ballungsgebiete" aria-hidden="true"><span class="octicon octicon-link"></span></a>Die Ballungsgebiete</h3>

<p>Es fallen vier Gebiete auf, in welchen sich Gemeinden mit hohen Ausländeranteilen häufen. Diese lassen sich wie folgt zusammenfassen:</p>

<ul>
<li>Die Tourismusregionen des Berner Oberlandes mit Gemeinden wie Interlaken, Kandersteg, Lauterbrunnen und Saanen</li>
<li>Bern und dessen Agglomeration (Ostermundigen, Köniz, Zollikofen, usw.)</li>
<li>Der französisch sprechende Teil des Kanton Bern mit Gemeinden wie Biel, Moutier und Saint-Imier</li>
<li>Die Region um die Gemeinde Langenthal (schwächer als die Anderen)</li>
</ul>

<p>All diese Gebiete weisen mehrere Gemeinden mit Ausländeranteilen von 20% (oder mehr) auf. Da in der Schweiz freie Wahl des Wohnortes besteht, müssen diese Regionen/Gemeinden attraktiv für immigrierte  Personen sein. Was könnte diese Gebiete attraktiv machen?</p>

<p>Geht man davon aus, dass diese Personen mit einem bewussten Motiv in die Schweiz und den Kanton Bern ziehen, und dieses nicht eine reine Suche nach Sicherheit (von Leib und Leben) ist, lassen sich verschiedene alternative Motive identifizieren. 
Als stärkstes Motiv werden die beruflichen Perspektiven identifiziert. Dieses Motiv erfüllen alle Ballungsgebiete in starkem Masse, sei es nun durch den Tourismus oder durch anderweitige Wirtschaftszentren. Alle diese Regionen verfügen über eine grossen Bedarf an Arbeitskräften. Gewisse Gemeinden in diesen Gebieten haben vor allem im Tourismus sogar einen expliziten Bedarf an ausländischen Arbeitskräften auf Grund der Sprachkompetenz. Diese wirtschaftliche Attraktivität könnte ein starker Faktor für die Standortwahl sein.</p>

<p>Weitere sind Motive sind ein höheres Einkommen, Freizeitmöglichkeiten und die Schweizer Kultur. Gewisse Motive wie Steueroptimierung können in einzelnen Gemeinden stark in Gewicht fallen, sind jedoch im Kanton Bern eher als sekundär einzustufen. Weitere Motive für die Standortwahl sind die Sprache und die Verwandten oder Freunde in der Schweiz.</p>

<p><a href="http://www.ejpd.admin.ch/dam/data/pressemitteilung/2013/2013-12-17/24D_Gaeumann.pdf">Die Motive der Zuwanderer in die Schweiz gehen über berufliche
Gründe hinaus</a></p>

<h2>
<a id="zusammensetzung-und-verteilung-der-ausländischen-bevölkerung" class="anchor" href="#zusammensetzung-und-verteilung-der-ausl%C3%A4ndischen-bev%C3%B6lkerung" aria-hidden="true"><span class="octicon octicon-link"></span></a>Zusammensetzung und Verteilung der ausländischen Bevölkerung</h2>

<p>Betrachten wir nun die Zusammensetzung der ausländischen Wohnbevölkerung und die Verteilung von einzelnen Gruppen/Nationen auf die verschiedenen Gemeinden.</p>

<h3>
<a id="zusammensetzung" class="anchor" href="#zusammensetzung" aria-hidden="true"><span class="octicon octicon-link"></span></a>Zusammensetzung</h3>

<p>Betrachtet man die Anteile der verschiedenen Kontinente an der ausländischen Bevölkerung, zeigt sich dass Europa eine klare Mehrheit ausmacht. Bei einem Anteil von fast 80% im gesamten Kanton Bern und 75% in fast jeder Gemeinde, zeigt sich eine überwiegende Mehrheit. Die Verteilung scheint relativ regelmässig über die verschiedenen Gemeinden hinweg. Diese Dominanz ist nicht weiter verwunderlich, wenn man die vereinfachte Einreise der meisten europäischen Länder durch die “Bilateralen Verträge“ und die geografische Nähe bedenkt.</p>

<p>An zweiter Stelle stehen die Länder aus dem asiatischen Kontinent. Diese machen mit ca. 10% der ausländischen Bevölkerung des Kanton Bern einen wesentlich kleineren Teil aus. Die asiatischen Länder sind viel stärker ungleich verteilt über die Gemeinden. Die relativen Anteile reichen von 55% in Trubschachen bis hin zu 0% in Därstetten.</p>

<p>An dritter Stelle befindet sich der afrikanische Kontinent. Dies mit einem relativen Anteil von 6,5% im Kanton Bern. Auch hier finden wir wieder stark schwankende Anteile zwischen den einzelnen Gemeinden. Diese reichen von ca. 30% in Kappeln bis zu 0% in Habkern. Hierbei ist zu beobachten, dass die Gemeinden mit hohen Anteilen meist im französisch sprechenden Bereich des Kanton Bern liegen.</p>

<p>An vierter Stelle steht der amerikanische Kontinent mit gerade einmal 3,5%. Dies verteilt sich vor allem auf einzelne Gemeinden wie Bern, Biel, Hasliberg, und Weitere.</p>

<p>Zuletzt kommen noch der "Kontinent" Ozeanien und Länder welche nicht zugeordnet werden können (da sie zum Beispiel nicht mehr existieren). Diese haben einen so geringen Anteil, dass eine Analyse kaum Sinn macht.</p>

<p>Als Fazit kann gesagt werden, dass die Zusammensetzung der ausländischen Wohnbevölkerung stark von Gemeinde zu Gemeinde schwanken kann. Dabei muss diese in kleinen Gemeinden und/oder in Gemeinden mit kleinem Ausländeranteil mit Vorsicht interpretiert werden, da es schnell zu Extremwerten kommt.</p>

<h3>
<a id="relative-anteile-einzelner-nationen" class="anchor" href="#relative-anteile-einzelner-nationen" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relative Anteile einzelner Nationen</h3>

<p>Klickt man im Sunburst auf einzelne Nationen, werden deren relativen Anteile im Vergleich zur Gesamtbevölkerung  auf der Karte dargestellt. Jede einzelne Nation zu analysieren würde den Rahmen sprengen. Interessant ist jedoch die Tatsache, dass gewisse Nationen in Gemeinden einen relevanten Anteil der totalen Bevölkerung darstellt. So sind zum Beispiel in der Gemeinde Beatenberg ca. 10% der Bevölkerung deutsche Staatsbürger. Auch in Ostermundigen machen Italiener/-innen ca 5% der Wohnbevölkerung aus. Dies zeigt, dass in gewissen Gemeinden durchaus eine Ballung von einzelnen Nationalitäten besteht. Hierdurch kann die Wichtigkeit von gewissen Nationalitäten und somit auch deren Kultur für einzelne Gemeinden aufgezeigt werden.</p>

<h1>
<a id="einschränkungen" class="anchor" href="#einschr%C3%A4nkungen" aria-hidden="true"><span class="octicon octicon-link"></span></a>Einschränkungen</h1>

<p>Alle verwendeten Daten beziehen sich ausschliesslich auf die ständige Wohnbevölkerung nach <em><strong>Verordnung  431.112.1 über die eidgenössische Volkszählung, Abschnitt 1, Artikel 2 d:</strong></em></p>

<p>ständige Wohnbevölkerung:  jeweils am Hauptwohnsitz alle: 
1. in der Schweiz gemeldeten Personen schweizerischer Staatsangehörigkeit,
2. ausländischen Staatsangehörigen ausserhalb des Asylprozesses mit einer Aufenthalts- oder Niederlassungsbewilligung für mindestens zwölf Monate oder Kurzaufenthaltsbewilligungen für eine kumulierte Aufenthaltsdauer von mindestens zwölf Monaten,
3. Personen im Asylprozess mit einer Gesamtaufenthaltsdauer von mindestens zwölf Monaten;</p>

<p>Des weiteren wird hier nochmals darauf hingewiesen, dass die Karte des Kantons Berns immer die <strong>relativen Anteile</strong> der ausländischen Wohnbevölkerung gegenüber der Gesamtbevölkerung darstellt. Der Sunburst zeigt jedoch den Anteil der einzelnen Untergruppen an der gesamten ausländischen Wohnbevölkerung. Also den Anteil der Kontinente/Länder an der gesamten <strong>ausländischen Wohnbevölkerung</strong>. </p>

<h1>
<a id="daten" class="anchor" href="#daten" aria-hidden="true"><span class="octicon octicon-link"></span></a>Daten</h1>

<h2>
<a id="bevölkerungsdaten" class="anchor" href="#bev%C3%B6lkerungsdaten" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bevölkerungsdaten</h2>

<p>Die verwendeten Bevölkerungsdaten können beim Bundesamt für Statistik <a href="https://www.pxweb.bfs.admin.ch/Selection.aspx?px_language=de&amp;px_db=px-x-0102010000_104&amp;px_tableid=px-x-0102010000_104%5Cpx-x-0102010000_104.px&amp;px_type=PX">online bezogen werden</a>. Die aufbereiteten Datensätze werden unter den untenstehenden Links zur Verfügung gestellt:</p>

<ul>
<li><a href="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/master/Gemeinden_2013.csv">Gemeinden_2013.csv</a></li>
<li><a href="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/master/Gemeinden_2012.csv">Gemeinden_2012.csv</a></li>
<li><a href="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/master/Gemeinden_2011.csv">Gemeinden_2011.csv</a></li>
<li><a href="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/master/Gemeinden_2010.csv">Gemeinden_2010.csv</a></li>
</ul>

<h2>
<a id="geodaten" class="anchor" href="#geodaten" aria-hidden="true"><span class="octicon octicon-link"></span></a>Geodaten</h2>

<p>Die benötigten Geodaten konnten unter <a href="https://github.com/interactivethings/swiss-maps">https://github.com/interactivethings/swiss-maps</a> bezogen werden. Die in der Visualisierung verwendeten Geodaten des Kanton Bern können unter folgendem Link im TopoJSON Format heruntergeladen werden. Sie unterstehen der <a href="http://www.toposhop.admin.ch/de/shop/terms/use/finished_products">Lizenz für kostenlose Geodaten des Bundesamtes für Landestopografie swisstopo</a></p>

<ul>
<li><a href="https://raw.githubusercontent.com/loluopendata/Auslaendische-Bevoelkerung-BE/master/be-municipalities.json">be-municipalities.json</a></li>
</ul>

<h2>
<a id="flexibilität" class="anchor" href="#flexibilit%C3%A4t" aria-hidden="true"><span class="octicon octicon-link"></span></a>Flexibilität</h2>

<p>Die Geodaten und die Bevölkerungsdaten wurden so weit wie möglich in ihrer ursprünglichen Gliederung belassen und werden anhand der BFS-Nr. (welche bereits in beiden Datensätzen enthalten ist) beim Laden der App verbunden. Alle relativen Bevölkerungsanteile werden direkt on-the-go berechnet. Dies bringt die nötige Flexbilität, dass die App auch mit den Geo- und Bevölkerungsdaten von anderen Kantonen oder der ganzen Schweiz betrieben werden kann, ohne dass grosse Änderungen am Source Code oder am Datensatz gemacht werden müssen.</p>

<h3>
<a id="gemeindefusionen" class="anchor" href="#gemeindefusionen" aria-hidden="true"><span class="octicon octicon-link"></span></a>Gemeindefusionen</h3>

<p>Weil die Datensätze Bevölkerungsdaten (2010-2013) und Geodaten (2015) zu verschiedenen Zeitpunkten erhoben wurden, stellte sich uns das Problem, dass einige Gemeinden inzwischen fusioniert wurden und damit nicht mehr existierten, bzw. neue Fusionsgemeinden in der Zwischenzeit entstanden sind. Wir entschieden uns dazu, die aktuellen GeoDaten zu verwenden und die Gemeinden rückwirkend im Bevölkerungsdatensatz zu fusionieren. Dies erforderte es im Datensatz die neu geschaffenen Fusionsgemeinden manuell einzutragen. Die Bevölkerungszahlen wurden aus den an der Fusion beteiligten Gemeinden errechnet.</p>

<h3>
<a id="relative-bevölkerungsanteile" class="anchor" href="#relative-bev%C3%B6lkerungsanteile" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relative Bevölkerungsanteile</h3>

<p>Im Datensatz, wie er beim BFS online bezogen werden kann, ist die Anzahl Einwohner nach Nationalität angegeben. In unserer Datenvisualisierung benötigen wir zusätzlich die Anzahl Einwohner pro Kontinent. Damit die Datenvisualisierung auch mit neuen Datensätzen funktioniert, ohne dass diese geändert werden müssen, werden diese Daten beim Laden des Datensatzes on-the-go berechnet. </p>

<p>Dazu wurde ein neues Objekt (world) definiert, in welchem die einzelnen Kontinente als Eigenschaften repräsentiert sind, und  ein Array mit den dazu gehörenden Nationalitäten enthalten.</p>

<pre><code>var world = { Afrika: [ "Äquatorialguinea", "Äthiopien", "Dschibuti", (...) ], Europa: ["Albanien", "Andorra", (...)], Amerika:["Argentinien" , "Bahamas" , "Barbados", (...) ], Asien: ["Afghanistan", "Bahrain", "Bhutan", (...) ], Ozeanien: ["Australien", "Fidschi", "Nauru", (...)], Andere: ["Staatenlos", "Nicht zuteilbar gemäss den aktuellen Grenzen", "Ohne Angabe"]};
</code></pre>

<p>Beim Laden des Datensatzes wird über die Eigenschaften des Objekts (world) iteriert und die Bevölkerung wird pro Kategorie zusammengezählt.</p>

<pre><code> for (var key in world) {
  if (world.hasOwnProperty(key)) {
    var count=0;
    for(var i=0;i&lt;world[key].length;i++){
      if(world[key][i]!="Schweiz"){
          count = count+row[world[key][i]];
      }

    }
      row[key]=count;    
  }        
}
</code></pre>

<h1>
<a id="quellen" class="anchor" href="#quellen" aria-hidden="true"><span class="octicon octicon-link"></span></a>Quellen</h1>

<h3>
<a id="map" class="anchor" href="#map" aria-hidden="true"><span class="octicon octicon-link"></span></a>Map</h3>

<p>Basiert auf <a href="http://bl.ocks.org/herrstucki/4327678">http://bl.ocks.org/herrstucki/4327678</a> und <a href="http://lvonlanthen.sandbox.iwi.unibe.ch/be/index.html">http://lvonlanthen.sandbox.iwi.unibe.ch/be/index.html</a></p>

<h3>
<a id="sunburst" class="anchor" href="#sunburst" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sunburst</h3>

<p>Basiert auf <a href="http://bl.ocks.org/kerryrodden/477c1bfb081b783f80ad">Zoomable sunburst with updating data</a>.
Jeder Nationalität einzeln in einem Piechart aufzuführen hätte die Darstellung zu unübersichtlich gemacht. Die hierarchische Gliederung des Sunburst schien uns passend, um die verschiedenen Nationalitäten nach Kontinent gruppieren zu können und dies farblich zu unterstreichen. Die Visualisierung nutzt das <a href="https://github.com/mbostock/d3/wiki/Partition-Layout">Partition Layout</a> von D3.js, welches ein <strong><em>nested JSON</em></strong> File benötigt um die Elemente richtig gruppieren zu können:</p>

<p>Aufbau Nested JSON:</p>

<pre><code>{
 "name": "root",
 "children": [
  {
     "name": "Europa",
     "children": [
      {"name": "Albanien", "size": 1234},
      {"name": "Andorra", "size": 5678},
      {"name": "Belgien", "size": 9123}
     ]
    }
 ]
}
</code></pre>

<p>Da wir den Datensatz nicht verändern wollten, wird das Nested JSON on-the-go durch die Funktion prepareJSON aus den CSV Daten erzeugt:</p>

<pre><code>function prepareJSON(e){
    var newData = [];
    for (var key in world) {

        if (world.hasOwnProperty(key)) {
            var tmpObject = {name: key, children:[]};
            for(var i=0;i&lt;world[key].length;i++){
                var x =  e[world[key][i]];
                if(x&gt;0){
                    tmpObject.children.push({name: world[key][i], size: x});
                }

            }

            newData.push(tmpObject);
        } 

    }
    return {name: "root", children: newData};
}
</code></pre>

<h3>
<a id="legende" class="anchor" href="#legende" aria-hidden="true"><span class="octicon octicon-link"></span></a>Legende</h3>

<p>Baisert auf <a href="http://eyeseast.github.io/visible-data/2013/08/27/responsive-legends-with-d3/">http://eyeseast.github.io/visible-data/2013/08/27/responsive-legends-with-d3/</a></p>

<p>Die Legende wird beim Ändern des Filters und bei der Auswahl eines neuen Datensatzes neu generiert. Die Input Domain der Skala  wird jeweils dem aktuellen maximum im Datensatz angepasst. Die Farben der Output range orientieren sich an den Farben der jeweiligen Kontinente, so dass auf der Karte jeweils leicht zu erkennen ist, welcher Filter gesetzt wurde.</p>

<h1>
<a id="erweiterungsmöglichkeiten" class="anchor" href="#erweiterungsm%C3%B6glichkeiten" aria-hidden="true"><span class="octicon octicon-link"></span></a>Erweiterungsmöglichkeiten</h1>

<p>Wir sehen zwei Möglichkeiten, wie die Visualisierung weiterverwendet und erweitert werden kann. </p>

<ol>
<li><p>Eine sinnvolle Erweiterung sehen wir durch das Hinzufügen einer weiteren Darstellungsform. Diese sollte die Veränderung des relativen Ausländeranteils an der ständigen Wohnbevölkerung darstellen. Dazu wäre ein simpler Graph mit der Zeit auf der x-Achse und den relativen Anteilen auf der Y-Achse denkbar. Aktualisiert wird dieser ebenfalls beim Klick auf die Gemeinden oder die einzelnen Kontinente/ Regionen. Durch diese Visualisierung könnten Veränderungen und Trends in den einzelnen Gemeinden erkannt werden.</p></li>
<li><p>Diese Visualisierung könnte auf andere Kantone oder sogar auf die ganze Schweiz übertragen werden. Dank der Live-Berechnung der relativen Anteile und der Programmierstruktur, ist durch wenige Schritte eine Ausdehnung auf andere Kantone oder die ganze Schweiz möglich. </p></li>
</ol>
</section>
<a name="App"></a>
<iframe id="1" src="http://lh10p414.sandbox.iwi.unibe.ch/index.html" width="1280px" height="635px"></iframe>
<section class="main-content">

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/loluopendata/Auslaendische-BEvoelkerung">Ausländische BEvölkerung</a> is maintained by <a href="https://github.com/loluopendata">loluopendata</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

